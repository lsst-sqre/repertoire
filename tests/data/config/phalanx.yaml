# A typical merged Phalanx configuration for, say, data.example.com.

applications:
  - "argocd"
  - "butler"
  - "cert-manager"
  - "datalinker"
  - "gafaelfawr"
  - "ghostwriter"
  - "google-cloud-observability"
  - "hips"
  - "ingress-nginx"
  - "mobu"
  - "noteburst"
  - "nublado"
  - "portal"
  - "qserv-kafka"
  - "sasquatch"
  - "semaphore"
  - "sia"
  - "squareone"
  - "ssotap"
  - "strimzi"
  - "strimzi-access-operator"
  - "tap"
  - "times-square"
  - "vault-secrets-operator"
  - "vo-cutouts"
  - "wobbly"
baseHostname: "data.example.com"
butlerConfigs:
  dp02: "https://data.example.com/api/butler/repo/dp02/butler.yaml"
  dp1: "https://data.example.com/api/butler/repo/dp1/butler.yaml"
datasets:
  dp02:
    description: >-
      Data Preview 0.2 contains the image and catalog products of the Rubin
      Science Pipelines v23 processing of the DESC Data Challenge 2
      simulation, which covered 300 square degrees of the wide-fast-deep LSST
      survey region over 5 years.
  dp03:
    description: >-
      Data Preview 0.3 contains the catalog products of a Solar System Science
      Collaboration simulation of the results of SSO analysis of the
      wide-fast-deep data from the LSST dataset.
  dp1:
    description: >-
      Data Preview 1 contains image and catalog products from the Rubin
      Science Pipelines v29 processing of observations obtained with the LSST
      Commissioning Camera of seven ~1 square degree fields, over seven weeks
      in late 2024.
influxdbDatabases:
  idfdev_efd:
    url: "https://data.example.com/influxdb/"
    database: "efd"
    username: "efdreader"
    passwordKey: "idfdev_efd-password"
    schemaRegistry: "http://sasquatch-schema-registry.sasquatch:8081"
  idfdev_metrics:
    url: "https://data.example.com/influxdb/"
    database: "lsst.square.metrics"
    username: "efdreader"
    passwordKey: "idfdev_metrics-password"
    schemaRegistry: "http://sasquatch-schema-registry.sasquatch:8081"
rules:
  argocd:
    - type: "ui"
      name: "argocd"
      template: "https://{{base_hostname}}/argo-cd"
  gafaelfawr:
    - type: "internal"
      name: "gafaelfawr"
      template: "https://{{base_hostname}}/auth/api/v1"
  mobu:
    - type: "internal"
      name: "mobu"
      template: "https://{{base_hostname}}/mobu"
  noteburst:
    - type: "internal"
      name: "noteburst"
      template: "https://{{base_hostname}}/noteburst/v1"
  nublado:
    - type: "ui"
      name: "nublado"
      template: "https://{{base_hostname}}/nb"
  portal:
    - type: "ui"
      name: "portal"
      template: "https://{{base_hostname}}/portal/app/"
  semaphore:
    - type: "internal"
      name: "semaphore"
      template: "https://{{base_hostname}}/semaphore"
  sia:
    - type: "data"
      name: "sia"
      datasets:
        - "dp02"
        - "dp1"
      template: "https://{{base_hostname}}/api/sia/{{dataset}}"
  ssotap:
    - type: "data"
      name: "tap"
      datasets:
        - "dp03"
      template: "https://{{base_hostname}}/api/ssotap"
  tap:
    - type: "data"
      name: "tap"
      datasets:
        - "dp02"
        - "dp1"
      template: "https://{{base_hostname}}/api/tap"
  vo-cutouts:
    - type: "data"
      name: "cutout"
      template: "https://{{base_hostname}}/api/cutout"
  wobbly:
    - type: "internal"
      name: "wobbly"
      template: "https://{{base_hostname}}/wobbly"
subdomainRules:
  nublado:
    - type: "ui"
      name: "nublado"
      template: "https://nb.{{base_hostname}}/nb"
useSubdomains:
  - "nublado"
