[project]
title = "Repertoire"
copyright = "2025 Association of Universities for Research in Astronomy, Inc. (AURA)"

[project.openapi]
openapi_path = "_static/openapi.json"
doc_path = "user-guide/server-api"

[project.openapi.generator]
function = "repertoire.main:create_openapi"
keyword_args = { add_back_link = true }

[project.python]
package = "repertoire"

[sphinx]
disable_primary_sidebars = ["index", "changelog"]
nitpick_ignore = [
    # Modules that do not provide intersphinx documentation.
    ["py:class", "respx.router.Router"],
    # Bug in Sphinx with Python 3.14
    ["py:data", "typing.Union"],
]
rst_epilog_file = "_rst_epilog.rst"

[sphinx.intersphinx.projects]
aioinflux = "https://aioinflux.readthedocs.io/en/stable"
python = "https://docs.python.org/3.14"
safir = "https://safir.lsst.io"
structlog = "https://www.structlog.org/en/stable"

[sphinx.linkcheck]
ignore = [
    # Generate redirects for authentication
    '^https://github\.com/settings/developers$',
    '^https://github\.com/.*/issues/new$',
]
